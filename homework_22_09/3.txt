При различных несовместимых версиях языка или же когда мы переносим код с одного процессора на другой, для него некоторые низкоуровневые инструкции могут не работать. Выход: на #define указывать версию ОС и ядра, версии языка и при различных флагах добавлять или не добавлять фичи в программный код